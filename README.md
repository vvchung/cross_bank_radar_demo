# 跨行聯合雷達 🛰️：GNN 與聯邦學習反詐騙 Colab 示範

## 💡 專案簡介

本專案旨在回應日益猖獗的網路投資詐騙問題：165反詐騙專線靠24支電話與51名警察，一年成功擋下5800件詐騙案，救回民眾血汗錢高達3.79億元。為此，我們參考[「一年臺灣民眾被詐騙一千億，得覺醒」](https://medium.com/@bohachu/%E4%B8%80%E5%B9%B4%E8%87%BA%E7%81%A3%E6%B0%91%E7%9C%BE%E8%A2%AB%E8%A9%90%E9%A8%99%E4%B8%80%E5%8D%83%E5%84%84-%E5%BE%97%E8%A6%BA%E9%86%92-11ba5b6ec18e)提出的「冷卻金流」、「跨行聯合雷達」和「社群早期偵測」三層式主動防禦策略，而這個 Colab Notebook 專注於實作第二層防線：

**🛡️ 「跨行聯合雷達：把「人頭帳戶」網路拼起來」**

🚨 **問題背景**：根據統計，台灣一年因投資詐騙造成的金額損失高達千億。詐騙集團常利用分散在多家銀行的「人頭帳戶」網路來進行洗錢，而單一銀行因為視野受限，難以窺見完整的犯罪全貌。

💸 這份專案是一個 **Proof of Concept (PoC)**，旨在展示如何透過現代化的技術，打造一個兼顧**隱私保護**與**高效偵測**的跨機構反詐騙解決方案。

---

## 🧐 問題核心：為什麼抓人頭帳戶這麼難？

*   **拼圖殘缺** 🧩：詐騙集團會刻意將金流分散在 A、B、C 等多家銀行。對 A 銀行來說，只能看到自己那一小塊拼圖，看不出完整的洗錢路徑。
*   **隱私高牆** 🔒：受限於《個資法》與金融法規，銀行之間無法直接交換客戶的交易明細，導致協同作戰變得極其困難。
*   **模式隱蔽** 🕵️：傳統的規則式 (Rule-based) 系統很難發現這種複雜、多層級的網路關係。

---

## ✨ 我們的解決方案：「跨行聯合雷達」

這個示範的核心理念是：**不交換原始個資，只共享集體智慧**。

我們利用 **圖神經網路 (GNN)** 來學習帳戶間的「關係特徵」，並透過 **聯邦學習 (Federated Learning)** 的框架，讓各家銀行在本地資料不出門的前提下，共同訓練出一個強大的全局偵測模型，就像為所有銀行裝上了一部能看透全局的雷達。

### 🛠️ 核心技術一覽

*   🧠 **圖神經網路 (GNN - GraphSAGE)**：擅長捕捉網路結構中的異常模式，能有效識別出人頭帳戶在金流網路中的特殊角色（如資金匯集點）。
*   🤝 **聯邦學習 (Federated Learning)**：一種分散式機器學習技術，允許多方在不共享原始資料的情況下協同訓練模型，完美解決資料隱私問題。
*   🤖 **PyTorch Geometric (PyG)**：一個強大的 Python 函式庫，專門用於建構與訓練圖神經網路。
*   📝 **Google Colab**: 提供了免費的雲端 GPU 環境，讓任何人都能輕鬆執行這個示範。

---

## 🚀 示範筆記本流程

這個 Colab 筆記本 (`cross_bank_radar_demo.ipynb`) 將帶您走過以下五個關鍵步驟：

1.  **資料模擬 🎭**
    *   模擬多家銀行（Bank A, Bank B）的正常交易紀錄。
    *   在資料中植入一個隱密的「人頭帳戶洗錢網路」，模擬真實的犯罪手法。
    *   對所有帳戶 ID 進行雜湊 (Hash) 處理，保護帳戶隱私。

2.  **圖譜建構 🕸️**
    *   將所有交易紀錄轉換為一個巨大的「圖」(Graph)。
    *   圖中的**節點 (Node)** 代表銀行帳戶，**邊 (Edge)** 代表交易流向。
    *   為每個帳戶節點計算特徵（如：交易次數、總金額、度數等）。

3.  **GNN 模型定義 🧠**
    *   建立一個基於 `GraphSAGE` 的圖神經網路模型，用來預測每個節點（帳戶）為人頭帳戶的機率。

4.  **聯邦學習模擬 🤝**
    *   這是整個流程的**核心**！
    *   模擬 A、B 兩家銀行各自在本地端，用自己的資料訓練模型。
    *   在每一輪訓練結束後，各方只上傳「模型權重更新」，而非原始資料。
    *   一個中央協調器會將各方更新做「安全聚合」，產生一個更強的「全局模型」，再分發給各銀行進行下一輪訓練。

5.  **偵測與阻斷 🎯**
    *   使用最終訓練完成的全局模型，對所有帳戶進行風險評分。
    *   當一個帳戶的風險分數超過閾值（例如 `> 0.8`），就觸發阻斷邏輯，例如：加入黑名單、即時凍結、通報 165 等。

---

## 🏃‍♀️ 如何執行

您不需要在本地安裝任何複雜的環境！

1.  點擊下方的「Open in Colab」按鈕，直接在瀏覽器中開啟筆記本。
    
    [![Open In Colab](https://colab.research.google.com/assets/colab-badge.svg)](https://colab.research.google.com/github/vvchung/cross_bank_radar_demo/blob/main/cross_bank_radar_demo.ipynb) 

2.  在 Colab 頁面中，點擊 `執行階段` -> `全部執行`。
3.  坐下來喝杯咖啡 ☕，觀察模型如何透過聯邦學習揪出隱藏的壞蛋！

---

## 🌟 主要成果與結論

這個 PoC 證明了，透過 GNN 與聯邦學習的結合，我們能夠：

*   ✅ **保護隱私**：全程無需共享任何敏感的客戶交易資料。
*   ✅ **打破孤島**：整合各銀行的「上帝視角」，有效識別跨機構的複雜洗錢網路。
*   ✅ **精準打擊**：自動化、規模化地抓出約八成的收水手帳戶，從金流端斬斷詐騙集團的命脈。

這不僅是一個技術方案，更是一個可行的、兼顧法規與成效的金融監理科技 (RegTech) 新典範。
